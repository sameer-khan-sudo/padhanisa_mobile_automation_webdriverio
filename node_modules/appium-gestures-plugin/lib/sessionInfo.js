"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
function sessionInfo(driver) {
    const automationName = driver.caps.automationName;
    if (automationName === 'XCuiTest') {
        const baseUrl = `${driver.wda.wdaBaseUrl}:${driver.wda.wdaRemotePort}`;
        const jwProxySessionId = driver.wda.jwproxy.sessionId;
        return {
            baseUrl,
            jwProxySessionId,
            automationName,
            driverUrl: `${baseUrl}/session/${jwProxySessionId}`,
        };
    }
    else {
        const baseUrl = `http://${driver.uiautomator2.host}:${driver.uiautomator2.systemPort}`;
        const jwProxySessionId = driver.uiautomator2.jwproxy.sessionId;
        return {
            baseUrl,
            jwProxySessionId,
            automationName,
            driverUrl: `${baseUrl}/session/${jwProxySessionId}`,
        };
    }
}
exports.default = sessionInfo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Vzc2lvbkluZm8uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvc2Vzc2lvbkluZm8uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxTQUF3QixXQUFXLENBQUMsTUFBTTtJQUN4QyxNQUFNLGNBQWMsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQztJQUVsRCxJQUFJLGNBQWMsS0FBSyxVQUFVLEVBQUUsQ0FBQztRQUNsQyxNQUFNLE9BQU8sR0FBRyxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUMsVUFBVSxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLENBQUM7UUFDdkUsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDdEQsT0FBTztZQUNMLE9BQU87WUFDUCxnQkFBZ0I7WUFDaEIsY0FBYztZQUNkLFNBQVMsRUFBRSxHQUFHLE9BQU8sWUFBWSxnQkFBZ0IsRUFBRTtTQUNwRCxDQUFDO0lBQ0osQ0FBQztTQUFNLENBQUM7UUFDTixNQUFNLE9BQU8sR0FBRyxVQUFVLE1BQU0sQ0FBQyxZQUFZLENBQUMsSUFBSSxJQUFJLE1BQU0sQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDdkYsTUFBTSxnQkFBZ0IsR0FBRyxNQUFNLENBQUMsWUFBWSxDQUFDLE9BQU8sQ0FBQyxTQUFTLENBQUM7UUFDL0QsT0FBTztZQUNMLE9BQU87WUFDUCxnQkFBZ0I7WUFDaEIsY0FBYztZQUNkLFNBQVMsRUFBRSxHQUFHLE9BQU8sWUFBWSxnQkFBZ0IsRUFBRTtTQUNwRCxDQUFDO0lBQ0osQ0FBQztBQUNILENBQUM7QUF0QkQsOEJBc0JDIn0=